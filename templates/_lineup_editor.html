<!-- MODIFIED: This entire file is now a modal dialog -->
<div class="modal fade" id="lineupEditorModal" tabindex="-1" aria-labelledby="lineupEditorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="lineupEditorModalLabel">Edit Batting Lineup</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted">Drag and drop players between the bench and the batting order. Drag players within the batting order to rearrange them.</p>
                <form onsubmit="return false;">
                    <input type="hidden" id="lineupId" name="lineup_id" value="{{ lineup.id or '' }}">
                    <div class="mb-3">
                        <label for="lineupTitle" class="form-label visually-hidden">Lineup Title</label>
                        <input type="text" class="form-control" id="lineupTitle" value="{{ lineup.title or 'Lineup for vs ' ~ game.opponent }}" required>
                    </div>
                    
                    <div class="row" id="lineup-editor-lists">
                        <div class="col-md-5">
                            <h6>Bench</h6>
                            <div id="lineup-bench" class="list-group border rounded p-2" style="min-height: 400px; max-height: 60vh; overflow-y: auto;">
                                <!-- Bench players will be rendered here by JavaScript -->
                            </div>
                        </div>

                        <div class="col-md-7">
                            <h6>Batting Order</h6>
                            <div id="lineup-order" class="list-group border rounded p-2" style="min-height: 400px; max-height: 60vh; overflow-y: auto;">
                                <!-- Lineup players will be rendered here by JavaScript -->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="saveLineupBtn" class="btn btn-primary">Save Lineup</button>
            </div>
        </div>
    </div>
</div>
